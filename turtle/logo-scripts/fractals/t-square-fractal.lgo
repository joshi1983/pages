; Inspired by a fractal at:
; https://en.wikipedia.org/wiki/T-square_(fractal)
to tSquareFractal :height :root?
	if :height > 0.4 [
		localmake "oldState turtleState
		localmake "oldPos pos
		localmake "oldHeading heading
		setPenSize 0
		rect :height :height
		localmake "numBranches 3
		if :root? [
			localmake "numBranches 4
		]
		repeat :numBranches [
			setHeading :oldHeading + 45 + (repcount - 3) * 360 / 4
			jumpForward :height / 2 / cos 45
			right 45
			tSquareFractal :height / 2 false
			jumpTo :oldPos
		]
		setTurtleState :oldState
	]
end

setFillColor "black
tSquareFractal 100 true