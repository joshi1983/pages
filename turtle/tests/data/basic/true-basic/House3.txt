!
!  HOUSE3      version 2.0
!
!  Look at a simple house from various viewpoints.
!  This is a perspective view; change the PersWindow
!  call to ParaWindow to see a parallel projection.
!
LIBRARY "3DLib.trc"

CALL PersWindow (0, 1, 0, 1, 0, 1)

LET x = 2                         ! Initial view of house
LET y = -3
LET z = 4

DO
   CLEAR
   CALL SetCamera3 (x, y, z)
   CALL DrawHouse (s$)
   SET CURSOR 1, 1
   PRINT "Camera: "; x; y; z
   INPUT prompt "Camera position (x, y, z): ": x, y, z
LOOP
END

SUB DrawHouse (s$)

    DIM house(12,3)

    MAT READ house
    PLOT
    CALL MatLines3 (house)

    CALL LineOff3 (1, 0, .5, 0, 0, .5)      ! Parts of roofline
    CALL LineOff3 (1, 1, .5, 0, 1, .5)
    CALL LineOff3 (1, 1, 0,  0, 1,  0)
    CALL LineOff3 (1, .5, 1, 0, .5, 1)

    DATA 0, 0, 0,  0, 0, .5,  0, .5, 1,  0, 1, .5,  0, 1, 0,  0, 0, 0
    DATA 1, 0, 0,  1, 0, .5,  1, .5, 1,  1, 1, .5,  1, 1, 0,  1, 0, 0

    CALL RectX3 (0, .2, .4, .2, .4)    ! Windows
    CALL RectX3 (0, .6, .8, .2, .4)

    CALL RectY3 (0, .45, .55, 0, .4)   ! Front door

    CALL RectX3 (1, .3, .7, .15, .4)   ! Big picture window

    CALL CircleY3 (1, .3, .4, .1, .4)  ! Weird circular windows
    CALL CircleY3 (1, .6, .7, .1, .4)

END SUB
